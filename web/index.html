<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{.Hostname}} - File Sharing</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: "Courier New", monospace; 
      background: #000; 
      color: #0f0; 
      padding: 20px;
      line-height: 1.6;
    }
    .container { 
      max-width: 110ch; 
      margin: 0 auto;
      border: 1px solid #0f0;
      padding: 20px;
    }
    @media (max-width: 768px) {
      .container {
        padding: 15px;
        border-left: none;
        border-right: none;
      }
    }
    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }
    }
    .header {
      text-align: center;
      border-bottom: 2px solid #0f0;
      padding-bottom: 15px;
      margin-bottom: 20px;
    }
    @media (max-width: 480px) {
      .header {
        padding-bottom: 10px;
        margin-bottom: 15px;
      }
    }
    .title {
      font-weight: bold;
      letter-spacing: 2px;
      font-size: 1.2em;
    }
    @media (max-width: 480px) {
      .title {
        font-size: 1em;
        letter-spacing: 1px;
      }
    }
    .subtitle {
      font-size: 0.9em;
      margin-top: 5px;
      opacity: 0.8;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    @media (max-width: 900px) {
      .grid { grid-template-columns: 1fr; }
    }
    .section {
      border: 1px solid #0f0;
      padding: 15px;
    }
    .section-header {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
    }
    .section-icon {
      margin-right: 10px;
      font-weight: bold;
      font-size: 1.2em;
    }
    .label { 
      font-weight: bold;
      text-transform: uppercase;
      font-size: 0.95em;
      margin: 12px 0 8px 0;
      border-bottom: 1px dotted #0f0;
      padding-bottom: 4px;
    }
    .label:first-of-type {
      margin-top: 0;
    }
    code { 
      background: #1a1a1a; 
      padding: 2px 5px;
      border: 1px solid #0f0;
      display: inline-block;
    }
    pre {
      background: #1a1a1a;
      padding: 10px;
      border: 1px solid #0f0;
      overflow-x: auto;
      margin: 8px 0;
      font-size: 0.8em;
      line-height: 1.4;
      word-wrap: break-word;
      white-space: pre-wrap;
    }
    @media (max-width: 480px) {
      pre {
        font-size: 0.7em;
        padding: 8px;
      }
    }
    .description {
      font-size: 0.9em;
      margin: 8px 0;
      opacity: 0.9;
    }
    .option-item {
      margin: 8px 0;
      font-size: 0.9em;
    }
    .option-name {
      font-weight: bold;
      color: #0f0;
    }
    .option-desc {
      margin-left: 10px;
      opacity: 0.8;
    }
    a { color: #0f0; text-decoration: underline; }
    a:hover { background: #0f0; color: #000; }
    .server-info {
      border: 1px solid #0f0;
      padding: 12px;
      margin-bottom: 20px;
      background: #0a0a0a;
    }
    .info-row {
      margin: 5px 0;
      font-size: 0.9em;
    }
    .info-label {
      font-weight: bold;
      display: inline-block;
      min-width: 150px;
    }
    @media (max-width: 768px) {
      .info-label {
        min-width: 100px;
      }
    }
    @media (max-width: 480px) {
      .info-label {
        display: block;
        margin-bottom: 5px;
        min-width: auto;
      }
      .info-row {
        margin-bottom: 10px;
      }
    }
    .footer {
      text-align: center;
      border-top: 1px solid #0f0;
      margin-top: 20px;
      padding-top: 10px;
      font-size: 0.85em;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="title">{{.Hostname}}</div>
      <div class="subtitle">[ SECURE FILE SHARING SERVICE ]</div>
    </div>

    <div class="server-info">
      <div class="info-row">
        <span class="info-label">Domain:</span>
        <code>{{.WebAddress}}</code>
      </div>
      {{if .MaxUploadSize}}
      <div class="info-row">
        <span class="info-label">Max Upload Size:</span>
        {{.MaxUploadSize}}
      </div>
      {{end}}
      {{if .PurgeTime}}
      <div class="info-row">
        <span class="info-label">File Retention:</span>
        Files are deleted after {{.PurgeTime}}
      </div>
      {{end}}
    </div>

    <div class="grid">
      <!-- UPLOAD SECTION -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">↑</div>
          <div style="font-weight: bold; font-size: 1.05em;">UPLOAD FILES</div>
        </div>

        <div class="label">Basic Upload</div>
        <div class="description">
          Upload a file using curl with a single command:
        </div>
        <pre>curl --upload-file ./file.txt {{.WebAddress}}file.txt</pre>

        <div class="label">Multiple Files</div>
        <div class="description">
          Upload multiple files at once:
        </div>
        <pre>curl --upload-file ./file1.txt {{.WebAddress}}file1.txt
curl --upload-file ./file2.txt {{.WebAddress}}file2.txt</pre>

        <div class="label">Upload from Stdin</div>
        <div class="description">
          Pipe data directly without saving to disk:
        </div>
        <pre>cat data.txt | curl -T - {{.WebAddress}}output.txt</pre>

        <div class="label">Upload with Custom Headers</div>
        <div class="description">
          Add options while uploading:
        </div>
        <pre>curl -T file.txt {{.WebAddress}}file.txt \
  -H "Max-Downloads: 5" \
  -H "Max-Days: 14"</pre>
      </div>

      <!-- DOWNLOAD SECTION -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">↓</div>
          <div style="font-weight: bold; font-size: 1.05em;">DOWNLOAD FILES</div>
        </div>

        <div class="label">Get Download Link</div>
        <div class="description">
          After uploading, you'll receive a download link:
        </div>
        <pre>{{.WebAddress}}token123/file.txt</pre>

        <div class="label">Download via Curl</div>
        <div class="description">
          Download a file using curl:
        </div>
        <pre>curl {{.WebAddress}}token123/file.txt -o file.txt</pre>

        <div class="label">Direct Download Path</div>
        <div class="description">
          Use the <code>/get/</code> path for direct downloads (no preview):
        </div>
        <pre>curl {{.WebAddress}}get/token123/file.txt -o file.txt</pre>

        <div class="label">Browser Download</div>
        <div class="description">
          Or use the <code>/download/</code> path and open in browser:
        </div>
        <pre>{{.WebAddress}}download/token123/file.txt</pre>

        <div class="label">Encrypted Downloads</div>
        <div class="description">
          If file is encrypted, provide the password:
        </div>
        <pre>curl {{.WebAddress}}get/token123/file.txt \
  -H "X-Decrypt-Password: your_password" \
  -o file.txt</pre>
      </div>
    </div>

    <!-- OPTIONS SECTION -->
    <div class="section">
      <div class="section-header">
        <div class="section-icon">⚙</div>
        <div style="font-weight: bold; font-size: 1.05em;">UPLOAD OPTIONS</div>
      </div>

      <div class="label">Max Downloads</div>
      <div class="option-item">
        <span class="option-name">Header:</span>
        <code>Max-Downloads: N</code>
      </div>
      <div class="option-desc">
        Limit how many times a file can be downloaded before deletion. Example: <code>Max-Downloads: 1</code> for one-time download.
      </div>

      <div class="label">Expiration Time</div>
      <div class="option-item">
        <span class="option-name">Header:</span>
        <code>Max-Days: N</code>
      </div>
      <div class="option-desc">
        File automatically deletes after N days. Example: <code>Max-Days: 7</code> for one week.
      </div>

      <div class="label">Password Protection (Encryption)</div>
      <div class="option-item">
        <span class="option-name">Header:</span>
        <code>X-Encrypt-Password: password</code>
      </div>
      <div class="option-desc">
        Encrypt file with a password. Recipient must provide the same password when downloading.
      </div>

      <div class="label">Example: All Options Combined</div>
      <pre>curl -T file.txt {{.WebAddress}}file.txt \
  -H "Max-Downloads: 3" \
  -H "Max-Days: 14" \
  -H "X-Encrypt-Password: secure123"</pre>
    </div>

    <!-- HEADERS REFERENCE -->
    <div class="grid">
      <div class="section">
        <div class="section-header">
          <div class="section-icon">→</div>
          <div style="font-weight: bold; font-size: 1.05em;">REQUEST HEADERS</div>
        </div>

        <div class="option-item">
          <span class="option-name">Max-Downloads:</span>
          <span class="option-desc">limit download count before deletion</span>
        </div>
        <div class="option-item">
          <span class="option-name">Max-Days:</span>
          <span class="option-desc">days until file expires</span>
        </div>
        <div class="option-item">
          <span class="option-name">X-Encrypt-Password:</span>
          <span class="option-desc">encrypt file with aes256 on upload</span>
        </div>
        <div class="option-item">
          <span class="option-name">X-Decrypt-Password:</span>
          <span class="option-desc">decrypt file on download</span>
        </div>
        <div class="option-item">
          <span class="option-name">X-Deletion-Token:</span>
          <span class="option-desc">token to delete file (header alternative)</span>
        </div>
        <div class="option-item">
          <span class="option-name">Range:</span>
          <span class="option-desc">request partial content (bytes=0-1023)</span>
        </div>
      </div>

      <div class="section">
        <div class="section-header">
          <div class="section-icon">←</div>
          <div style="font-weight: bold; font-size: 1.05em;">RESPONSE HEADERS</div>
        </div>

        <div class="option-item">
          <span class="option-name">X-Url-Delete:</span>
          <span class="option-desc">full url to delete the file</span>
        </div>
        <div class="option-item">
          <span class="option-name">X-Remaining-Downloads:</span>
          <span class="option-desc">downloads left before expiry</span>
        </div>
        <div class="option-item">
          <span class="option-name">X-Remaining-Days:</span>
          <span class="option-desc">days left before expiry</span>
        </div>
        <div class="option-item">
          <span class="option-name">Content-Disposition:</span>
          <span class="option-desc">attachment or inline with filename</span>
        </div>
        <div class="option-item">
          <span class="option-name">Content-Range:</span>
          <span class="option-desc">byte range for partial content</span>
        </div>
        <div class="option-item">
          <span class="option-name">Accept-Ranges:</span>
          <span class="option-desc">indicates byte range support</span>
        </div>
      </div>
    </div>

    {{if .EmailContact}}
    <div class="section" style="text-align: center; padding: 20px;">
      <div style="font-size: 0.9em;">
        Questions or issues? Contact: <a href="mailto:{{.EmailContact}}">{{.EmailContact}}</a>
      </div>
    </div>
    {{end}}

    <div class="footer">
      Made by DutchCoders & morawskidotmy | Powered by transfer.ng
    </div>
  </div>

</body>
</html>
